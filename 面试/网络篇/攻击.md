mysql 注入

原理：将sql语句当参数存入数据库



防御：
对用户输入进行正则匹配过滤。

不要动态拼接sql语句

重要信息加密

不要管理员连接数据库



xss攻击

将一段js脚本注入到用户的js中

然后执行这段脚本


常用手段通过document.cookie 获取cookie

。




存储型攻击

通过输入框将脚本存入数据库，当其他用户使用时就会执行这段代码

如

添加window.href 进行截流

添加一些收集表，用户可能以为是真实网站要求的选项。当用户填了后获取用户信息。。


制造一些隐形的dom，当鼠标划过就触发代码做一些骚操作


防御：
对一些特殊字符过滤
限制长度

csrf攻击

用户a 访问正规但有漏洞的网站a

步骤：

用户访问a网站并生成cookie，网站b通过一些手段在网站a添加一些诱导连接让用户进入网站b

添加方法：论坛直接发漂亮小姐姐图片，标题党等。还可以通过xss存储型攻击添加一些代码

这个时候用户访问网站b，网站b利用浏览器访问网站a，并带上用户a的cookie发送请求，因为有cookie，网站a以为是用户a发送的请求。


防御手段：


修改数据不能使用get


验证码 但是不友好


将用户信息存在token中


使用HTTP reference字段，该字段记录了请求来源地址。

cookie same-site字段


