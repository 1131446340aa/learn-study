HTTPS 过程

验证阶段：

客服端发起请求，服务端返回证书，如果证书不合法给出警告

传输阶段 本地生成随机数，用共钥加密，发送给服务端

服务端收到随机数后使用私钥解密，拿到随机数后通过加密算法用随机数加密数据，将加密的数据给客服端


客服端用随机数对数据进行解密获取数据。


注意，为了性能，在连接阶段是非对称加密，传输阶段是对称加密


对称加密和非对称加密有什么区别？

HTTPS 连接就是非对称加密过程

对称加密只有私钥。加密解密都用一套私钥，优点是效率高，缺点是不够安全。


没有证书会发生什么情况？

最典型的是中间人攻击

中间人攻击步骤。

首先客服端发起一个网络请求，被中间人拦截了。如DNS拦截。

这个时候中间人通过证书向客服端发送一个证书，然后客服端拿到公钥对生成对随机数加密，然后发送给中间人，
这个时候中间人通过私钥解密获取随机数。这个时候中间人再充当客服端向真正对服务端发送请求，最终服务端会返回一段加密后的数据给中间人，中间人又有随机数，这样中间人就获取了数据。最后中间人再把数据发送给客服端。


用现实中的中间商理解，中间商即时买家也是卖家。同时最开始的卖家和买家也不知道中间过程。


HTTPS与HTTP


HTTPS 收费 

HTTPS响应较慢

HTTPS 搜索引擎排名优先级高

HTTPS 缓存不高效

HTTPS 更安全













